# ch 00. 노드 시작하기

## 노드의 정의

: 크롬 V8 자바스크립트 엔진으로 빌드된 자바스크립트 **런타임(실행기)** 

- 좁은 정의 : 자바스크립트 실행기
- 노드는 서버 X  But  서버의 역할도 수행 할 수 있다.

---

- 노드 이전 : JS는 HTML에 종속, script 태그 내에서 JS 코드가 돌아간다.
- 노드 이후 : 독립적으로 실행해준다. (Only JS 파일로만)

---

→ 브라우저와 HTML로 부터 JS가 해방 되었다. 이는 JS로 서버, 웹, 모바일 앱 등을 개발할 수 있는 탄생 배경이 되었다. 

---

## 노드의 내부 구조

- 내부는 C/C++ 로 구성되어 있음 (속도를 위해서)
- **libuv** : 노드의 특성인 이벤트 기반, 논블로킹 I/O 모델을 구현한 라이브러리.

      → 비동기를 구현해준다. 싱글 스레드 + 비동기 

[자바스크립트 문법 참고사이트](http://ko.javascript.info) : 모던 자바스크립트 튜토리얼 

---

## 노드의 특성

### 1. 이벤트 기반

: 이벤트가 발생할 때 미리 지정해둔 작업을 수행하는 방식 

→ **어떤 동작**을 할 때, 그에 따른 **동작이 '반복적으로'** 일어나는 것 (상호작용) 

ex) 버튼을 클릭할 때 새로운 팝업창이 뜨는 것 (이벤트 리스너에 콜백 함수를 등록했기 때문) 

---

2. 이벤트 발생 : ex) 클릭 , 주소창에 URL을 입력 

3. 등록된 콜백 함수 호출 : 클릭을 했을 때, 메모리에 등록된 함수 실행. ex) 페이지 꺼짐, 페이지 이동  

---

### 2. 논블로킹 I/O

동기 : 코드를 순서대로 실행 

비동기 : 코드를 비순서대로 실행 (어떠한 규칙에 따라) 

노드는 

1. 동기이면서 블로킹 (동기 → 블로킹) 
2. 비동기이면서 논블로킹 (비동기 → 논블로킹) 

---

### 3. 프로세스 vs 스레드

우선 노드는 '싱글 스레드' (↔ 멀티 스레드)


- 프로세스 : 운영체제에서 할당하는 작업의 단위, 프로세스 간 자원 공유 X

→ 프로그램을 하나 띄울 때 마다, 프로세스 하나라고 생각하면 된다. 

- 스레드 : 프로세스 내에서 실행되는 작업의 단위, 부모 프로세스 자원 공유 (싱글, 멀티)

(보통 스레드 하나 당 PC의 코어 하나를 사용) 

ex) 크롬 프로그램을 하나 띄우는 데 '프로세스' 하나라고 생각

크롬 프로그램 내에 여러 가지 탭을 '스레드'라고 생각  

→ 노드는 원래 **멀티 스레드**이지만, 직접 다룰 수 있는 스레드는 하나이기 때문에 **싱글 스레드라고 표현**. 

→ 14버전 부터 멀티 스레드 사용 가능 

싱글 스레드 

- **싱글스레드**

구현이 비교적 쉬움

효율이 상대적으로 떨어짐 

- **멀티스레드**

구현 어려움 

효율이 높음

---

## 서버로서의 노드

**클라이언트 ↔ 서버** 

- 노드≠서버
- 노드는 서버를 구성할 수 있게 해주는 모듈을 제공


* 노드의 장단점 

| | 장점 | 단점 |
|----------|------|-----|
|1.|멀티 스레드 방식에 비해 컴퓨터 자원을 적게 사용|싱글 스레드라서 CPU 코어를 하나만 사용|
|2.|I/O 작업(Input/Output)이 많은 서버로 적합|CPU 작업이 많은 서버로는 부적합 ex) 암호화, 알고리즘 등에 힘들어함|
|3.|웹 서버가 내장|서버 커졌을 때 서버를 관리하기 어려움|
|4.|자바스크립트를 사용|어중간한 성능|
|5.|JSON 형식과 호환하기 쉬움| 
**노드 설치 확인 (in CMD)** 

```powershell
C:\Users\color>node -v
v15.7.0

C:\Users\color>npm -v
7.4.3
```

→ 정상적으로 설치 되었음을 확인 할 수 있다. 

노드 버전확인, npm 버전 확인