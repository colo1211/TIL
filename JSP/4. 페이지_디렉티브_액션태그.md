# 4. JSP 페이지 디렉티브, 액션 태그

## 4-1. JSP 페이지 디렉티브
* include 디렉티브
* Taglib 디렉티브 - 모델 2에서 학습

#### include 디렉티브

* include : 포함하다 <br/>

* 하나의 페이지를 구성하는 여러 요소들을 불러올 때 사용하는 라이브러리
* 다른 jsp 파일을 불러올 때 사용하는 라이브러리
    * 리액트로 따지면 약간 컴포넌트 끌어오는 느낌

💡 하나의 페이지로 변환되어서 컴파일된다.

![image](https://user-images.githubusercontent.com/63600953/206902729-3ef58000-2afd-48e3-a6dc-35da3f321eef.png)

```
<%@ include file="파일명.jsp" %>
```

`Include.jsp`
```
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	<table width="600" border="1">
		<!-- Top -->
		<tr height="150">
			<td width="600" align="center">
			<%@ include file="Top.jsp" %>
			</td>
		</tr>
		
		<!-- center -->
		<tr height="400">
			<td width="600" align="center">
			Center
			</td>
		</tr>
		
		<!-- Bottom -->
		<tr height="100">
			<td width="600" align="center">
			<%@ include file="Bottom.jsp" %>
			</td>
		</tr>
	</table>
</body>
</html>
```



## 4-2. JSP 페이지 액션 태그

![image](https://user-images.githubusercontent.com/63600953/208286227-8116dee7-980e-4875-bc8d-e983d105114c.png)

* 이중에서 include, forward, useBean을 학습한다.

### 1. include

* 이전 목차에서 학습했던 `page include` 지시어와 기능이 완전히 동일

💡 `page include` vs `jsp:incldue`
* page include
  * 단순히 페이지만 합치는 역할
  * 하나의 페이지가 한번에 실행
  ```
  <%@ include file="Top.jsp" />
  ```
  
* jsp:include 
  * 각각의 JSP가 따로 실행됨
  * 페이지를 붙이는 것 뿐만 아니라, 동시에 값을 넘길 수 있다.  
  * 따라서, params를 넘겨줄 수 있다.
  * `page include`와의 차이점은 page 속성에 기술되어있는 각각의 페이지에 값을 넘겨줄 수 있다.
  * 마치, react 자식 컴포넌트에 Props를 넘겨주는것과 비슷
  
```
  <jsp:include page="Top.jsp">
     <jsp:param name="id" value="aaa"/>
  </jsp:include>
```

## 4-2. forward 액션 태그

* `response.sendRedirect()`와 기능이 유사
* 페이지 사이의 제어를 이동시킬때 사용
* 현재 페이지에서 다른 페이지로 이동시킬 때 사용하는 액션 태그

💡 `response.sendRedirect()` vs `forward`
* response.sendRedirect()
  * 단순한 페이지 이동
  * 데이터를 url 주소창에 껴서 전송
  * 데이터가 죽음
  
* forward
  * 데이터가 계속 살아있음
  * 데이터를 굳이 안넣어도 됨
  * `jsp:param`으로 값을 변경해서 전달할 수 있다.
  * 임의의 값을 넣을 수 있음
  
```
<%@ page language="java" contentType="text/html; charset=EUC-KR"
    pageEncoding="EUC-KR"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="EUC-KR">
<title>Insert title here</title>
</head>
<body>
	<h2>이 페이지는 로그인정보가 넘어오는 페이지입니다.</h2>
	<%
		request.setCharacterEncoding("EUC-KR"); // post 방식 한글 처리
		
		String id = request.getParameter("id");
		
		response.sendRedirect("ResponseRedirect.jsp?id=" + id); // 흐름 제어, 제어권이 ResponseRedirect로 넘어간다.
	%>
	<jsp:forward page="ResponseRedirect.jsp"></jsp:forward> <!--데이터가 그대로 넘어가기 때문에 ResponseRedirect에서 id 사용 가능-->
	<h3><%= id %>님 반가워요 </h3>
</body>
</html>
```


